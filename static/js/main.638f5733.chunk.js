(this.webpackJsonpmessenger=this.webpackJsonpmessenger||[]).push([[0],{49:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return y}));var r=n(2),c=n(31),a=n.n(c),o=n(14),s=n(20),i="/login",u="/chat",j=n(16),b=n(4),p=function(){var e=Object(r.useContext)(y).auth,t=Object(j.a)(e),n=Object(o.a)(t,1)[0];return Object(b.jsx)("div",{children:n?Object(b.jsx)("button",{onClick:function(){return e.signOut()},variant:"outlined",children:"\u0432\u044b\u0439\u0442\u0438"}):Object(b.jsx)(s.b,{to:i,children:Object(b.jsx)("button",{variant:"outlined",children:"\u043b\u043e\u0433\u0438\u043d"})})})},d=n(8),h=n(19),O=n.n(h),l=n(23),x=n(15),f=function(){var e=Object(r.useContext)(y).auth,t=function(){var t=Object(l.a)(O.a.mark((function t(){var n,r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new x.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:r=t.sent,c=r.user,console.log(c);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(b.jsx)("button",{onClick:t,variant:"outlined",children:"\u0412\u043e\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 google"})},m=n(33),v=function(){return Object(b.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})},g=[{path:i,Component:f}],C=[{path:u,Component:function(){var e=Object(r.useContext)(y),t=e.auth,n=e.firestore,c=Object(j.a)(t),a=Object(o.a)(c,1)[0],s=Object(r.useState)(""),i=Object(o.a)(s,2),u=i[0],p=i[1],d=Object(m.a)(n.collection("messages").orderBy("createdAt")),h=Object(o.a)(d,2),f=h[0],g=h[1],C=function(){var e=Object(l.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,text:u,createdAt:x.a.firestore.FieldValue.serverTimestamp()}),p("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g?Object(b.jsx)(v,{}):Object(b.jsxs)("div",{children:[f.map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:e.photoURL,alt:"\u0430\u0432\u0430\u0442\u0430\u0440"}),Object(b.jsx)("p",{children:e.displayName})]}),Object(b.jsx)("span",{children:e.text})]})})),Object(b.jsx)("textarea",{value:u,onChange:function(e){return p(e.target.value)}}),Object(b.jsx)("button",{onClick:C,variant:"outlined",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})}}],k=function(){var e=Object(r.useContext)(y).auth,t=Object(j.a)(e);return Object(o.a)(t,1)[0]?Object(b.jsxs)(d.d,{children:[C.map((function(e){var t=e.path,n=e.Component;return Object(b.jsx)(d.b,{path:t,component:n,exact:!0},t)})),Object(b.jsx)(d.a,{to:u})]}):Object(b.jsxs)(d.d,{children:[g.map((function(e){var t=e.path,n=e.Component;return Object(b.jsx)(d.b,{path:t,component:n,exact:!0},t)})),Object(b.jsx)(d.a,{to:i})]})},w=(n(49),function(){var e=Object(r.useContext)(y).auth,t=Object(j.a)(e),n=Object(o.a)(t,3),c=(n[0],n[1]);n[2];return c?Object(b.jsx)(v,{}):Object(b.jsxs)(s.a,{children:[Object(b.jsx)(p,{}),Object(b.jsx)(k,{})]})});n(50),n(51);x.a.initializeApp({apiKey:"AIzaSyD8fBhhzn7AZw67Utf9rQVAke1Fzh44K5o",authDomain:"react-messenger-be893.firebaseapp.com",projectId:"react-messenger-be893",storageBucket:"react-messenger-be893.appspot.com",messagingSenderId:"857764640503",appId:"1:857764640503:web:429d3720d23ef271b0c5f2",measurementId:"G-16PNN1JV4K"});var y=Object(r.createContext)(null),A=x.a.auth(),I=x.a.firestore();a.a.render(Object(b.jsx)(y.Provider,{value:{firebase:x.a,auth:A,firestore:I},children:Object(b.jsx)(w,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.638f5733.chunk.js.map